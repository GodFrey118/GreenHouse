/*! Sell 2016-12-27 20:18 */
!function(){function a(b){if(q.getElementsByClassName("edit-area","textarea")){var d=q.getElementsByClassName("edit-area","textarea")[0],f=q.getAncestorByTagName(d,"div"),g=q.getAncestorByTagName(d,"tr"),h=q.getElementsByClassName("surplus-words","span",g)[0],i=q.getElementsByClassName("edit-save","a",g)[0],j=f.getElementsByTagName("p")[0],k=q.getElementsByClassName("item-title","a",g)[0],l=q.getElementsByClassName("edit-item-title","a",g)[0];s.removeListener(i,"click"),s.stopPropagation(b),s.preventDefault(b),s.removeListener(document,"click",A);var m=d.value.trim();if(!x(m))return s.on(i,"click",function(b){e.call(this,b,a)}),s.on(document,"click",A),d.focus(),!1;var n="oldtext="+encodeURIComponent(d.defaultValue)+"&";m=n+"newItemTitleStr="+encodeURIComponent(m)+"&"+k.href.split("?")[1];var o=document.getElementsByName("_tb_token_")[0].value;m=m+"&_tb_token_="+o,"undefined"!=typeof isTmallUser&&(m+="&type="+(isTmallUser?"b":"c"));{u.asyncRequest("POST",EDIT_TILTE_URL+"?_input_charset=utf-8"+EDIT_TITLE_ACTION_TARGET,{success:function(b){if(s.on(i,"click",function(b){e.call(this,b,a)}),-1===b.status)alert("\u94fe\u63a5\u8d85\u65f6\uff0c\u8bf7\u91cd\u8bd5"),s.on(document,"click",A);else if(void 0!==b.responseText){try{var m=t.JSON.parse(b.responseText)}catch(n){s.on(document,"click",A),alert("\u6570\u636e\u683c\u5f0f\u9519\u8bef")}m.data?(s.on(document,"click",A),alert(m.data)):""==m.data?(s.on(document,"click",A),alert("\u4fdd\u5b58\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5")):(f.removeChild(h),f.removeChild(d),f.removeChild(i),m.prompt&&c(m.prompt),m.title=m.title.replace(/(&lt;)/g,"<"),m.title=m.title.replace(/(&gt;)/g,">"),KISSY.DOM.text(k,m.title),k.setAttribute("title",m.title),j.style.display="",l.style.display="",s.removeListener(document,"click",A),O(g),s.on(f,"mouseover",function(){q.addClass(f,"high-light")}),s.on(f,"mouseout",function(){q.removeClass(f,"high-light")}),6==YAHOO.env.ua.ie&&q.setStyle(f,"marginBottom",""))}},failure:function(){s.on(i,"click",function(b){e.call(this,b,a)}),s.on(document,"click",A),alert("\u4fdd\u5b58\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5")},timeout:1e4,cache:!1},m)}}}function b(a){var b=r.get(".perators",a);b&&r.remove(b),q.removeClass(a,"edit")}function c(a){if("undefined"!=typeof top.RECOMMEND_COUNT){var b=a.overflow,c=a.cancel;if(!b){RECOMMEND_COUNT=void 0;var e=top.document.getElementById("J_RecommendPrompt");e&&e.parentNode&&e.parentNode.removeChild(e)}if(c){var f=top.YAHOO.util.Dom.getElementsByClassName("current","tr")[0],g=top.YAHOO.util.Dom.get("J_curRecommendNum_1"),h=top.YAHOO.util.Dom.get("J_PromptCurNumber"),i=q.getElementsByClassName("recommend-word","p",f)[0];q.removeClass(f,"recommend"),g.innerHTML=d(g)-1,h&&(h.innerHTML=d(h)-1),i&&i.parentNode&&i.parentNode.removeChild(i)}}}function d(a){var b=a.innerHTML,c=/\D/g;return b=b.replace(c,"")}function e(a,b){var c,d=this,e=s.getTarget(a),f=!1;return s.stopPropagation(a),s.preventDefault(a),c="FORM"===e.tagName?top.YAHOO.util.Dom.getElementsByClassName("current","tr")[0]:q.getAncestorByTagName(e,"tr"),(f=q.hasClass(c,"recommend"))?void E(a,b,d):void b.call(d,a)}function f(a){var b,c=KISSY,d=c.DOM,e=c.Node('<div id="flashClipboardContainer" class="flashclipboard"></div>'),h=I.substring(0,I.lastIndexOf("/")+1)+"clipboard.swf";e.appendTo(document.body),b=new AJBridge.Clipboard("#flashClipboardContainer",{src:h,attrs:{width:e.width(),height:e.height()},params:{bgcolor:"#FCC",wmode:"transparent",scale:"showall"},hand:!0,btn:!0}),c.each(a,function(a){s.on(a,"mouseover",function(c){c.preventDefault();var f=d.offset(a);e.offset(f),b.host=a}),s.on(a,"click",function(a){a.preventDefault()})}),b.on("error failed",function(){var b="\u590d\u5236\u529f\u80fd\u4f9d\u8d56Flash\u652f\u6301\uff0c\u8bf7\u53bbAdobe\u5b98\u7f51\u66f4\u65b0\u6700\u65b0\u7248\u672c";d.attr(a,"title",b),e.attr("title",b),d.addClass(a,"copy-link-error"),e.addClass("copy-link-error")}),b.on("mouseDown",function(){var a=b.host,c=d.attr(a,"href");b.setData(c),b.getData()!==c?window.prompt("\u4f60\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u81ea\u52a8\u590d\u5236",c):e.attr("data-content",b.getData())}),b.on("mouseUp",function(){e.attr("data-content")&&g(b.host)}),b.init(),f=function(){}}function g(a){var b=q.getXY(a),c=q.getAncestorByTagName(a,"td"),d=q.getFirstChild(c);if(!q.getElementsByClassName("copy-link-succeed","span",c).length){var e=document.createElement("span");q.addClass(e,"copy-link-succeed"),e.innerHTML="\u5df2\u590d\u5236\u94fe\u63a5",q.insertBefore(e,d),q.setXY(e,[b[0],b[1]-30]),setTimeout(function(){e.parentNode&&e.parentNode.removeChild(e)},2e3)}}function h(a){if(q.getElementsByClassName("edit-area","textarea")){var c=q.getElementsByClassName("edit-area","input")[0],d=q.getAncestorByTagName(c,"tr"),e=q.getElementsByClassName("item-num-area","p",d)[0],f=q.getAncestorByTagName(e,"td"),g=q.getElementsByClassName("edit-save","a",d)[0],i=e.getElementsByTagName("span")[0],j=i.id.split(":")[1],k=q.getElementsByClassName("item-num-addPrompt","p",f)[0];s.removeListener(g,"click"),s.stopPropagation(a),s.preventDefault(a),s.removeListener(document,"click",A);var l=c.value,m="";if(q.hasClass(c.parentNode,"item-num-add")){if(0==l||""==l)return A(c),!1;m="&type=add"}else if(0==l&&!confirm("\u82e5\u4fee\u6539\u5e93\u5b58\u4e3a0\uff0c\u5219\u5b9d\u8d1d\u5c06\u4e0b\u67b6\u3002\u662f\u5426\u7ee7\u7eed\uff1f"))return s.on(g,"click",h),s.on(document,"click",A),c.focus(),!1;var n="",o="oldtext="+encodeURIComponent(c.defaultValue)+"&";l=o+"newItemNum="+l.replace(/^0+(?=.)/g,"")+"&itemId=",l+=j,n=document.getElementsByName("_tb_token_")[0].value,l+=m,l=l+"&_tb_token_="+n;{u.asyncRequest("POST",EDIT_NUM_URL+"?_input_charset=utf-8"+EDIT_NUM_ACTION_TARGET,{success:function(a){if(s.on(g,"click",h),-1===a.status)s.on(document,"click",A),alert("\u94fe\u63a5\u8d85\u65f6\uff0c\u8bf7\u91cd\u8bd5");else if(void 0!==a.responseText){try{var j=t.JSON.parse(a.responseText)}catch(l){s.on(document,"click",A),alert("\u6570\u636e\u683c\u5f0f\u9519\u8bef")}if(j.data)s.on(document,"click",A),alert(j.data);else if(""==j.data)s.on(document,"click",A),alert("\u4fdd\u5b58\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5");else if("0"==j.num)s.removeListener(document,"click",A),$(d);else{if(f.removeChild(c),f.removeChild(g),b(f),k&&f.removeChild(k),i.innerHTML=j.num,i.setAttribute("data-num",j.num),void 0!==j.less){var m=i.id.replace("itemNumId","itemLessNum"),n=q.get(m);n&&(n.innerHTML=j.less)}e.style.display="",s.removeListener(document,"click",A),O(d)}}},failure:function(){s.on(g,"click",h),s.on(document,"click",A),alert("\u4fdd\u5b58\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5")},timeout:1e4,cache:!1},l)}}}function i(a){if(q.getElementsByClassName("edit-area","textarea")){var b=q.getElementsByClassName("edit-area","input")[0],d=q.getAncestorByTagName(b,"tr"),f=q.getAncestorByTagName(b,"td"),g=q.getElementsByClassName("item-price-area","p",f)[0],h=q.getElementsByClassName("price-now","span",f)[0],j=q.getElementsByClassName("price-old","span",f),k="",l="",m=q.getElementsByClassName("edit-save","a",f)[0];if(j.length){var n=q.getAncestorByTagName(j[0],"p");l="&"+h.getAttribute("data-islimit"),k=j[0].id.split(":")[1]}else k=h.id.split(":")[1];s.removeListener(m,"click"),s.stopPropagation(a),s.preventDefault(a),s.removeListener(document,"click",A);var o=b.value.trim(),p=KISSY.DOM.attr(b,"data-allowZero");if(!p&&""==o)return alert("\u5b9d\u8d1d\u4ef7\u683c\u4e0d\u80fd\u4e3a\u7a7a"),s.on(m,"click",function(a){e.call(this,a,i)}),s.on(document,"click",A),b.focus(),!1;if(!p&&0==parseFloat(o))return alert("\u5b9d\u8d1d\u4ef7\u683c\u4e0d\u80fd\u4e3a0"),s.on(m,"click",function(a){e.call(this,a,i)}),s.on(document,"click",A),b.focus(),!1;o+=l;var r="",v=document.getElementById("skuPriceList:"+k),w="oldtext="+encodeURIComponent(b.defaultValue)+"&";o=w+"newItemPrice="+o+"&itemId=",o+=k,r=document.getElementsByName("_tb_token_")[0].value,o=o+"&_tb_token_="+r,v&&(o=o+"&skuPriceList="+v.value),"undefined"!=typeof isTmallUser&&(o+="&type="+(isTmallUser?"b":"c"));{u.asyncRequest("POST",EDIT_PRICE_URL+"?_input_charset=utf-8"+EDIT_PRICE_ACTION_TARGET,{success:function(a){if(s.on(m,"click",function(a){e.call(this,a,i)}),-1===a.status)s.on(document,"click",A),alert("\u94fe\u63a5\u8d85\u65f6\uff0c\u8bf7\u91cd\u8bd5");else if(void 0!==a.responseText){try{var k=t.JSON.parse(a.responseText)}catch(l){s.on(document,"click",A),alert("\u6570\u636e\u683c\u5f0f\u9519\u8bef")}k.data?(s.on(document,"click",A),alert(k.data.error)):""==k.data?(s.on(document,"click",A),alert("\u4fdd\u5b58\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5")):(f.removeChild(b),f.removeChild(m),k.prompt&&c(k.prompt),j.length?(h.innerHTML=k.price.currentPrice,j[0].innerHTML=k.price.oldPrice,j[0].setAttribute("data-price",k.price.currentPrice)):(h.innerHTML=k.currentPrice,h.setAttribute("data-price",k.currentPrice)),g.style.display="",j.length&&(n.style.display=""),s.removeListener(document,"click",A),O(d))}},failure:function(){s.on(m,"click",function(a){e.call(this,a,i)}),s.on(document,"click",A),alert("\u4fdd\u5b58\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5")},timeout:1e4,cache:!1},o)}}}function j(){}function k(a,b){KISSY.use("v2/com/rangeinput",function(c,d){var e=new d;k=function(a,b){e.bind(a,b)},j=function(a){e.destroy(a)},k(a,b)})}function l(a){s.preventDefault(a);var b=document.forms["edit-SKU-form"],c=o(location.href,"type"),d=q.getElementsByClassName("SKU-total-num","strong",b)[0],e=d.innerHTML;if(0==e&&!confirm("\u82e5\u4fee\u6539\u5e93\u5b58\u4e3a0\uff0c\u5219\u5b9d\u8d1d\u5c06\u4e0b\u67b6\u3002\u662f\u5426\u7ee7\u7eed\uff1f"))return!1;var f=document.getElementsByName("new-SKU-num"),g=document.getElementsByName("SKU-id");if(!g||g.length<=0||!f||f.length!=g.length){Q(parent.document);var h=q.getElementsByClassName("current","tr",parent.document)[0];return O(h),!1}for(var i,j="",k="",l="",m=[],n=0,p=0;p<g.length;p++)i=f[p],k=i.value||"0",l=g[p].value,j+=l+":"+k+";",m.push(l+":"+(i.defaultValue||0)),n+=1*k;var r="oldtext="+m.join(";")+"&",v=b["item-num-id"].value;if(j=r+"skus="+j+"&itemId="+v,"add"==c&&(j+="&type=add",0==n)){Q(parent.document);var h=q.getElementsByClassName("current","tr",parent.document)[0];return O(h),!1}var w=parent.document.getElementsByName("_tb_token_")[0].value;j=j+"&_tb_token_="+w;u.asyncRequest("POST",EDIT_SKU_NUM_URL+"?_input_charset=utf-8",{success:function(a){if(-1===a.status)alert("\u94fe\u63a5\u8d85\u65f6\uff0c\u8bf7\u91cd\u8bd5");else if(void 0!==a.responseText){try{var b=t.JSON.parse(a.responseText)}catch(c){alert("\u6570\u636e\u683c\u5f0f\u9519\u8bef")}if(b.data)alert(b.data);else if(""==b.data)alert("\u4fdd\u5b58\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5");else if("0"==b.totalNum){Q(parent.document);var d=q.getElementsByClassName("current","tr",parent.document)[0];$(d)}else{parent.changeQuantityBySku(v,b),Q(parent.document);var d=q.getElementsByClassName("current","tr",parent.document)[0];O(d)}}},failure:function(){alert("\u4fdd\u5b58\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5")},timeout:1e4,cache:!1},j);return!1}function m(a){if(s.preventDefault(a),!n())return!1;for(var b,d=document.forms["edit-SKU-form"],e=q.getElementsBy(function(a){return"text"===a.type},"input",d),f="",g="",h="",i=[],j=0;j<e.length;j++)b=e[j],h=b.value.trim(),g=e[j].id.split(":")[1],f+=g+":"+h+";",i.push(g+":"+b.defaultValue);var k="oldtext="+i.join(";")+"&",l=d["item-num-id"].value;f=k+"skus="+f+"&itemId="+l;var m=parent.document.getElementsByName("_tb_token_")[0].value,o=parent.document.getElementById("skuPriceList:"+l),p=document.getElementById("islimit"),r=document.getElementById("discountRateStr");f=f+"&_tb_token_="+m,o&&(f=f+"&skuPriceList="+o.value),f+=p&&p.value?"&islimit="+p.value:"",f+=r&&r.value?"&discountRateStr="+r.value:"","undefined"!=typeof top.isTmallUser&&(f+="&type="+(top.isTmallUser?"b":"c"));u.asyncRequest("POST",EDIT_SKU_PRICE_URL+"?_input_charset=utf-8",{success:function(a){if(-1===a.status)alert("\u94fe\u63a5\u8d85\u65f6\uff0c\u8bf7\u91cd\u8bd5");else if(void 0!==a.responseText){try{var b=t.JSON.parse(a.responseText)}catch(d){alert("\u6570\u636e\u683c\u5f0f\u9519\u8bef")}if(b.data){if(b.data.error){var e=b.data.error;alert(e["SKUId:0"])}}else if(""==b.data)alert("\u4fdd\u5b58\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5");else{Q(parent.document),b.prompt&&c(b.prompt);var f=q.getElementsByClassName("current","tr",parent.document)[0],g=q.getElementsByClassName("price-now","span",f)[0],h=q.getElementsByClassName("price-old","span",f)[0];h?(g.innerHTML=b.price.currentPrice,h.innerHTML=b.price.oldPrice):g.innerHTML=b.currentPrice,O(f)}}},failure:function(){alert("\u4fdd\u5b58\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5")},timeout:1e4,cache:!1},f)}function n(){var a=document.forms["edit-SKU-form"],b=q.getElementsByClassName("new-fix-price","input",a)[0],c=b.value.trim(),d=q.get("sku-Price-Error-Info"),e="",f="",g=q.get("max-sku-price").value,h=q.get("min-sku-price").value,i=!1,j=!1,k=!0,l=!0,m=q.getElementsBy(function(a){var b=q.getAncestorByTagName(a,"p");return q.hasClass(b,"total-num")||q.getElementsByClassName("num-zero","span",b).length?void 0:"text"===a.type},"input",a);""==c&&(j=!0),0==parseFloat(c)&&(i=!0);for(var n=0;n<m.length;n++){var o=m[n],p="true"===KISSY.DOM.attr(o,"data-allowZero");f=o.value.trim(),c<=parseFloat(f)&&(k=!1),c>=parseFloat(f)&&(l=!1),p||""!=f||(j=!0),p||0!=parseFloat(f)||(i=!0)}return c<=parseFloat(g)&&(k=!1),c>=parseFloat(h)&&(l=!1),j||i||l||k?(j&&(e+="\u5b9d\u8d1d\u4ef7\u683c\u4e0d\u80fd\u4e3a\u7a7a"),i&&(e+="\n\u5b9d\u8d1d\u4ef7\u683c\u4e0d\u80fd\u4e3a0"),l&&(e+="\n"+(d&&d.value?d.value:"\u8bf7\u5c06\u60a8\u7684\u9500\u552e\u5c5e\u6027\u8868\u4e2d\u7684\u4ef7\u683c\u8bbe\u7f6e\u5728\u5408\u7406\u7684\u4ef7\u683c\u533a\u95f4\u5185\uff0c\u4e0d\u5305\u62ec\u5e93\u5b58\u4e3a0\u7684\u5b9d\u8d1d\u4ef7\u683c")),k&&(e+="\n"+(d&&d.value?d.value:"\u8bf7\u5c06\u60a8\u7684\u9500\u552e\u5c5e\u6027\u8868\u4e2d\u7684\u4ef7\u683c\u8bbe\u7f6e\u5728\u5408\u7406\u7684\u4ef7\u683c\u533a\u95f4\u5185\uff0c\u4e0d\u5305\u62ec\u5e93\u5b58\u4e3a0\u7684\u5b9d\u8d1d\u4ef7\u683c")),alert(e),!1):!0}function o(a,b){for(var c=a.match(/[?,&][^&]*/gi),d={},e=0;e<c.length;e++){var f=c[e].substring(1);d[f.split("=")[0]]=f.split("=")[1]}return void 0==typeof b?d:d[b]?d[b]:""}var p=YAHOO,q=p.util.Dom,r=KISSY.DOM,s=(KISSY.all,p.util.Event),t=p.lang,u=p.util.Connect,v=function(a,b){var c=this.value;if(/^\d+\.?\d*$/.test(c)||(c=Math.abs(parseFloat(c)),this.value=isNaN(c)?"":c),/([\.]\d{3,})$/.test(c)){var d=c.split(".");c=d[0]+"."+d[1].substring(0,2),this.value=c}Math.ceil(parseFloat(c))>=1e8&&(this.value=c.substring(0,8))},w=function(a){var b=a.value;/^\d+$/i.test(b)||(b=Math.abs(parseInt(b)),a.value=isNaN(b)?"":b)},x=function(a){return a=a.trim(),""==a?(alert("\u5b9d\u8d1d\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a!"),!1):!0},y=function(a){for(var b=[0,0],c=a.length,d=0;c>d;d++)if(b[0]+=a.charCodeAt(d)>=0&&a.charCodeAt(d)<=255?1:2,b[0]>60){b[1]=d;break}return b},z=function(a,b){var c=0,d=[0,0];return b&&(d=y(b),c=30-Math.ceil(d[0]/2)),a&&s.on(a,"keyup",function(){var e=q.getElementsByClassName("word-num","em","J_DataTable")[0];return b=a.value,d=y(b),c=30-Math.ceil(d[0]/2),d[0]>60?(a.value=b.substring(0,d[1]).trim(),void(e.innerHTML=0)):void(e.innerHTML=c)}),c},A=function(a){if(a.type)var c=!0;else var c=q.getElementsByClassName("edit-area","",a).length?!1:!0;if(D.hide(),q.getElementsByClassName("edit-area","",document).length&&c){var d=q.getElementsByClassName("edit-area","",document)[0],e=q.getElementsByClassName("current","tr","J_DataTable")[0];if(q.hasClass(d,"new-item-title")){var f=q.getElementsByClassName("item-title-area","div",e)[0],g=q.getElementsByClassName("edit-save","",f)[0],h=q.getElementsByClassName("surplus-words","span",e)[0],i=q.getElementsByClassName("item-title","a",e)[0],k=q.getAncestorByTagName(i,"p"),l=q.getElementsByClassName("edit-item-title","a",e)[0],m=i.getAttribute("title");s.on(f,"mouseover",function(){q.addClass(f,"high-light")}),s.on(f,"mouseout",function(){q.removeClass(f,"high-light")}),f.removeChild(h),f.removeChild(d),g.parentNode.removeChild(g),6==YAHOO.env.ua.ie&&q.setStyle(f,"marginBottom",""),m=m.replace(/(&lt;)/g,"<"),m=m.replace(/(&gt;)/g,">"),KISSY.DOM.text(i,m),k.style.display="",l.style.display="",O(e),s.removeListener(document,"click",arguments.callee)}if(q.hasClass(d,"new-item-num")){var n=q.getAncestorByTagName(d,"td"),g=q.getElementsByClassName("edit-save","","J_DataTable")[0],o=q.getElementsByClassName("item-num-area","p",e)[0],p=o.getElementsByTagName("span")[0],r=p.getAttribute("data-num"),t=q.getElementsByClassName("item-num-addPrompt","p")[0];n.removeChild(d),n.removeChild(g),b(n),t&&n.removeChild(t),p.innerHTML=r,o.style.display="",O(e),s.removeListener(document,"click",arguments.callee)}if(q.hasClass(d,"new-item-price")){var u=q.getAncestorByTagName(d,"td"),g=q.getElementsByClassName("edit-save","",u)[0],v=q.getElementsByClassName("item-price-area","p",e)[0],w=q.getElementsByClassName("price-now","span",e)[0],x=q.getElementsByClassName("price-old","span",e),y="";if(u.removeChild(d),u.removeChild(g),j(d),v.style.display="",x.length){var z=q.getAncestorByTagName(x[0],"p");y=x[0].getAttribute("data-price"),x[0].innerHTML=y,z.style.display=""}else y=w.getAttribute("data-price"),w.innerHTML=y;O(e),s.removeListener(document,"click",arguments.callee)}q.hasClass(d,"popup-panel")&&"none"!=d.style.display&&(Q(),e=q.getElementsByClassName("current","tr",document)[0],O(e),s.removeListener(document,"click",arguments.callee))}},B=function(){if(q.getElementsByClassName("edit-area","textarea")){var b=q.getElementsByClassName("edit-area","textarea")[0],c=q.getAncestorByTagName(b,"tr"),d=q.getElementsByClassName("edit-save","a",c)[0],f=q.getElementsByClassName("surplus-words","span",c)[0];s.on(document,"click",A),s.on(b,"click",function(a){s.stopPropagation(a),b.focus()}),s.on(f,"click",function(a){s.stopPropagation(a)}),z(b,null),s.on(d,"click",function(b){e.call(this,b,a)})}},C=function(){var a,b=!1,c=function(){},d=c,e=c,f=c;return{init:function(){var g=document,h=g.all,i="undefined",j="IEDataStore";b||(typeof localStorage!==i?a=localStorage:typeof globalStorage!==i?a=globalStorage[location.hostname]:h&&(a=g.createElement("input"),a.type="hidden",g.body.appendChild(a),a.addBehavior("#default#userData")),d=function(){var b=c;return"setItem"in a?b=function(b,c){a.setItem(b,c)}:h&&(b=function(b,c){try{a.setAttribute(b,c),a.save(j)}catch(d){}}),b}(),e=function(){var b=c;return"getItem"in a?b=function(b){return a.getItem(b)}:h&&(b=function(b){try{return a.load(j),a.getAttribute(b)}catch(c){}}),b}(),f=function(){var b=c;return"removeItem"in a?b=function(b){a.removeItem(b)}:h&&(b=function(b){try{a.removeAttribute(b),a.save(j)}catch(c){}}),b}(),b=!0)},setItem:function(a,b){return d(a,b)},getItem:function(a){return e(a)},removeItem:function(a){return f(a)}}}();window.simpleStorage=C;var D=function(){function a(){e.parentNode&&(e.parentNode.removeChild(e),s.removeListener(e,"click"))}var b,c='<p>\u5f53\u6a71\u7a97\u603b\u6570 < \u5df2\u63a8\u8350\u6570\u65f6\uff0c\u7f16\u8f91\u540e\u63a8\u8350\u72b6\u6001\u5c06\u88ab\u53d6\u6d88</p><div class = "pro_operations" ><input id="pro_choice" type="checkbox" value="checkbox"><label for="pro_choice">\u4e0d\u518d\u63d0\u793a</label><input type="button" value="\u786e\u5b9a" id="pro_btn"><a href="#" id="pro_cancel">\u53d6\u6d88</a></div>',d=top.UID||"",e=top.document.createElement("div");return e.innerHTML=c,q.addClass(e,"prompts"),{show:function(c,f,g){var h,i,j,k=s.getTarget(c);s.on(e,"click",function(b){var c=s.getTarget(b);if(s.stopPropagation(b),"pro_btn"==c.id){var e=top.YAHOO.util.Dom.get("pro_choice").checked;a(),simpleStorage.setItem("hidePrompt"+d,e),g&&g.call(null,b)}else"pro_cancel"==c.id&&(s.preventDefault(b),a(),A.call(null,b))}),b=q.getAncestorByTagName(k,"td"),b?(b.appendChild(e),h=q.getXY(k),i=h[0]-e.clientWidth/2+20,j=h[1]-e.clientHeight-8):"FORM"==k.tagName&&(b=top.document.getElementById("J_edit-SKU"),b.appendChild(e),h=top.YAHOO.util.Dom.getXY(b),i=h[0]+(b.clientWidth-e.clientWidth)/2,j=h[1]+b.clientHeight-e.clientHeight-65),q.setXY(e,[i,j]),simpleStorage.setItem("rePromptNumber"+d,f||0)},hide:a}}(),E=function(a,b,c){var d=c||this,e=top.UID||"",f=top.RECOMMEND_COUNT;if("undefined"==typeof f)return void b.call(d,a);var g=simpleStorage.getItem("rePromptNumber"+e),h=simpleStorage.getItem("hidePrompt"+e);g==f?"false"==h?D.show(a,f,b):b.call(d,a):(D.show(a,f,b),simpleStorage.setItem("hidePrompt"+e,"false"))},F=function(a){var b=s.getTarget(a);if(s.stopPropagation(a),s.preventDefault(a),!q.hasClass(b,"item-title-area")&&!q.hasClass(b,"edit-save")){var c=this;s.removeListener(c,"mouseover"),s.removeListener(c,"mouseout"),q.hasClass(c,"high-light")&&q.removeClass(c,"high-light"),A(c);var d=q.getAncestorByTagName(c,"tr");N(d);var e=c.getElementsByTagName("p")[0],f=q.getElementsByClassName("item-title","a",d)[0],g=q.getElementsByClassName("edit-item-title","a",d)[0];e.style.display="none",g.style.display="none";var h=document.createElement("textarea");h.setAttribute("rows",2),h.defaultValue="innerText"in f?f.innerText:f.textContent,h.value="innerText"in f?f.innerText:f.textContent,q.addClass(h,"new-item-title edit-area");var i=document.createElement("span"),j=z(null,h.value);i.innerHTML='\u8fd8\u80fd\u8f93<em class="word-num">'+j+"</em>\u5b57",q.addClass(i,"surplus-words");var k=document.createElement("a");k.innerHTML="\u4fdd\u5b58",k.setAttribute("href","#"),q.addClass(k,"edit-save"),c.appendChild(i),c.appendChild(h),h.focus(),c.appendChild(k),6==YAHOO.env.ua.ie&&q.setStyle(c,"marginBottom","-18px"),B()}},G=function(a){s.preventDefault(a),window.clipboardData.setData("text",this.href),g(this)},H=document.getElementsByTagName("script"),I=H[H.length-1].src,J=function(){if(q.getElementsByClassName("edit-area","textarea")){var a=q.getElementsByClassName("edit-area","input")[0],b=q.getElementsByClassName("edit-save","a")[0];s.on(document,"click",A),s.on(a,"keyup",function(a){var b=s.getTarget(a);w(b);var c=b.value;parseInt(c)>1e8&&(b.value=1e8)}),s.on(a,"keypress",function(a){var b=s.getTarget(a);w(b);var c=b.value;parseInt(c)>1e8&&(b.value=1e8),13==a.keyCode&&h(a)}),s.on(a,"click",function(a){s.stopPropagation(a)}),s.on(b,"click",h)}},K=function(a){s.stopPropagation(a),s.preventDefault(a);var b=this,c=q.getAncestorByTagName(b,"tr"),d=q.getAncestorByTagName(b,"td"),e=q.getNextSibling(b);if(e&&-1!=e.className.indexOf("preless")&&(e=q.getNextSibling(e)),null!=e)return!1;A(d),N(c);var f=b.getElementsByTagName("span")[0];q.hasClass(b.parentNode,"item-num-add")||(b.style.display="none");var g=document.createElement("input");q.hasClass(b.parentNode,"item-num-add")||(g.defaultValue=f.innerHTML,g.value=f.innerHTML),g.setAttribute("maxlength",9),q.addClass(g,"new-item-num edit-area");var h=document.createElement("a");if(h.innerHTML="\u4fdd\u5b58",h.setAttribute("href","#"),q.addClass(h,"edit-save"),q.insertAfter(h,b),q.insertAfter(g,b),g.focus(),q.hasClass(d,"item-num-add")){var i=document.createElement("p"),j=document.createElement("span");i.innerHTML="\u4ec5\u4e3a\u589e\u52a0\u5e93\u5b58",i.className="item-num-addPrompt",d.appendChild(i),j.innerHTML="+",j.className="perators",b.appendChild(j),q.addClass(d,"edit")}J()},L=function(){if(q.getElementsByClassName("edit-area","textarea")){var a=q.getElementsByClassName("edit-area","input")[0],b=q.getElementsByClassName("edit-save","a")[0];s.on(document,"click",A),s.on(a,"keyup",function(a){var b=s.getTarget(a);v.call(b)}),s.on(a,"keypress",function(a){var b=s.getTarget(a);v.call(b),13==a.keyCode&&e.call(this,a,i)}),s.on(a,"click",function(a){s.stopPropagation(a)}),s.on(b,"click",function(a){e.call(this,a,i)}),k(a,{validEvent:"",initTip:!0})}},M=function(a){s.stopPropagation(a),s.preventDefault(a);var b=this,c=q.getAncestorByTagName(b,"tr"),d=q.getAncestorByTagName(b,"td");A(d),N(c);var e=q.getElementsByClassName("price-now","span",d)[0],f=q.getElementsByClassName("price-old","span",d);if(b.style.display="none",f.length){var g=q.getAncestorByTagName(f[0],"p");g.style.display="none"}var h=document.createElement("input"),i=KISSY.DOM.attr(d,"data-allowZero");KISSY.DOM.attr(h,"data-allowZero",i),f.length?(h.defaultValue=f[0].innerHTML,h.value=f[0].innerHTML):(h.defaultValue=e.innerHTML,h.value=e.innerHTML);var j=KISSY.DOM.attr(e,"data-range");j&&KISSY.DOM.attr(h,"data-range",j),q.addClass(h,"new-item-price edit-area");var k=document.createElement("a");k.innerHTML="\u4fdd\u5b58",k.setAttribute("href","#"),q.addClass(k,"edit-save"),d.appendChild(h),h.focus(),d.appendChild(k),L()},N=function(a){var b=q.getPreviousSibling(a),c=b.getElementsByTagName("td")[0];q.addClass(a,"current"),q.addClass(c,"current-td")},O=function(a){q.hasClass(a,"current")||(a=q.getElementsByClassName("current","tr",document)[0]);var b=q.getPreviousSibling(a),c=b.getElementsByTagName("td")[0];q.removeClass(c,"current-td"),q.removeClass(a,"current")},P=function(a){s.preventDefault(a),s.stopPropagation(a);var b=this,c=q.getAncestorByTagName(b,"tr"),d=q.getAncestorByTagName(b,"td");A(d),N(c);var e=q.hasClass(d,"item-num-add")?"&type=add":"",f=b.getAttribute("data-url")+e+"&t="+(+new Date).toString();if(q.get("J_edit-SKU")){var g=q.get("J_edit-SKU");g.style.visibility="hidden",g.style.display="block";var h=g.getElementsByTagName("iframe")[0];h.style.width="";var i=g.getElementsByTagName("a")[0]}else{var g=document.createElement("div");g.id="J_edit-SKU",q.addClass(g,"popup-panel shadow edit-area"),g.style.position="absolute",g.style.zIndex="10000",g.style.visibility="hidden",g.style.backgroundColor="#f3f3f3",g.style.padding="1px",g.style.border="1px solid #969696";var h=document.createElement("iframe");h.setAttribute("frameborder","0",0),h.setAttribute("scrolling","no"),h.style.width="100%",g.appendChild(h);var i=document.createElement("a");i.href="#",i.innerHTML="\u5173\u95ed",q.addClass(i,"close-btn"),g.appendChild(i),document.body.appendChild(g),s.on(i,"click",function(a){s.preventDefault(a),Q(),O(c)})}h.setAttribute("src",f)},Q=function(a){a=a?a:document;var b=a.getElementById("J_edit-SKU"),c=b.getElementsByTagName("iframe")[0];c.style.width="",b.style.width="",b.style.display="none"},R=function(a,b){if(clearTimeout(this.scrollTimer),q.setStyle(a,"display","block"),itemCate=q.getAncestorByTagName(a,"div"),itemCate.style.position="relative","none"!=a.style.display&&b){var c=q.getXY(itemCate);q.setStyle(a,"left",b[0]-c[0]-a.clientWidth+13+"px"),q.setStyle(a,"top",a.clientHeight+2+"px")}},S=function(a){this.scrollTimer=setTimeout(function(){q.setStyle(a,"display","none"),itemCate=q.getAncestorByTagName(a,"div"),itemCate.style.position=""},500)},T=function(){return(T=0<s.webkit?function(){return document.body}:function(){return document.documentElement})()},U=function(){var a=q.getElementsByClassName("go-top","div",document)[0],b=q.get("header").offsetWidth||950,c=5;return(U=6===s.ie?function(d){var e=q.getClientHeight(),f=Math.floor(.15*e),g=T().scrollTop,h=e-f+g;if(!0===d)return void(a.style.top=h+"px");var i=q.getClientWidth(),j=Math.floor((i-b)/2)+b+c;a.style.left=j+"px",a.style.top=h+"px"}:function(){var d=q.getClientWidth(),e=Math.floor((d-b)/2)+b+c;a.style.left=e+"px"})()},V=function(){divBar=document.createElement("div"),q.addClass(divBar,"go-top");var a=document.createElement("a");a.href="#";var b=document.createElement("span");if(b.appendChild(document.createTextNode("\u8fd4\u56de\u9876\u90e8")),6===p.env.ua.ie){var c=".go-top{_position: absolute;_zoom: expression(function(el) {el.style.zoom = 1;window.onscroll = function() {el.className = el.className;};}(this));}",d=document.createElement("style");d.type="text/css",document.getElementsByTagName("head")[0].appendChild(d),d.styleSheet?d.styleSheet.cssText=c:d.appendChild(document.createTextNode(c))}a.appendChild(b),divBar.appendChild(a),document.body.appendChild(divBar),U(),divBar.style.display="block";var e=!1,f=t.later(0,document,function(){});6===s.ie?s.on(window,"scroll",function(){!1===e&&(divBar.style.display="none",e=!0),f.cancel(),f=t.later(500,document,function(){!0===e&&0<T().scrollTop&&(U(!0),e=!1)})}):s.on(window,"scroll",function(){!0===e&&(divBar.style.display="block",e=!1),f.cancel(),f=t.later(500,document,function(){!1===e&&0===T().scrollTop&&(divBar.style.display="none",e=!0)})});var g=t.later(0,document,function(){});s.on(window,"resize",function(){g.cancel(),g=t.later(500,document,U)}),s.on(a,"click",function(a){s.preventDefault(a),T().scrollTop=0})};window.operationsFix_reload=function(){q.get("J_DataTable")&&(window.operationsStartPos=q.getY("J_DataTable"))};var W=function(){if(q.getElementsByClassName("list-head","div","").length){window.operationsFix_reload();var a=q.getElementsByClassName("list-head","div","")[0],b=q.getElementsByClassName("goods-sid","tr","J_DataTable"),c=b[b.length-1],d=q.getY(c)-90,e=r.width(a),f=q.getElementsByClassName("trigger-container","div");s.on(window,"scroll",function(){var b=window.operationsStartPos,c=T().scrollTop;b>=c||c>=d?(q.removeClass(a,"operations-fix"),r.width(a,"auto")):c>=b&&d>=c&&(q.addClass(a,"operations-fix"),r.width(a,e)),7===p.env.ua.ie&&(a.style.zoom="1"),6===p.env.ua.ie&&(a.style.top=c-b+"px"),p.env.ua.ie<8&&(q.removeClass(f,"trigger-container"),q.addClass(f,"trigger-container"))})}},X=function(){var a=document.getElementsByTagName("label"),b=parent.document.getElementById("J_edit-SKU"),c=b.getElementsByTagName("iframe")[0],d=width=0,e=0;e=q.get("J_edit-SKU-more")?a.length-1:a.length;for(var f=0;e>f;f++)width=12*r.text(a[f]).length,width>d&&(d=width);d+=150,d>=470?(d="470",q.setStyle(a,"width","350px"),q.setStyle(a,"height","auto")):210>d?d="210":(q.setStyle(a,"width","auto"),q.setStyle(a,"height","18px"));var g=q.getElementsByClassName("sku-preless","span");g&&g.length>0&&(d+=55),document.body.style.width=d+"px",c.style.width=d+"px",b.style.width=d+"px";var h=document.body.clientHeight;h+=40,window.MessageEvent&&!document.getBoxObjectFor&&(h+=10),window.innerWidth&&window.scrollMaxX&&(h+=20),c.style.height=h+"px";var i=420;h>i?(b.style["overflow-y"]="auto",b.style["overflow-x"]="hidden",b.style.height=i+"px"):(b.style.overflow="hidden",b.style.height="auto")},Y=function(){var a=parent.document.getElementById("J_edit-SKU"),b=(a.getElementsByTagName("iframe")[0],q.getElementsByClassName("current","tr",parent.document)[0]);if(q.get("edit-num-SKU-iframe")){var c=q.getElementsByClassName("item-SKU-num-area","p",b)[0];c=q.getAncestorByTagName(c,"td");var d=q.getXY(c)}else{var c=q.getElementsByClassName("item-SKU-price-area","p",b)[0];c=q.getAncestorByTagName(c,"td");var d=q.getXY(c)}q.setXY(a,[d[0]-a.clientWidth+c.clientWidth,d[1]])},Z=function(){X();{var a=(document.getElementsByTagName("label"),parent.document.getElementById("J_edit-SKU"));a.getElementsByTagName("iframe")[0],width=0}a.style.visibility="visible";var b=q.getElementsByClassName("current","tr",parent.document)[0];if(Y(),q.get("edit-num-SKU-iframe")){var c=q.getElementsByClassName("item-SKU-num-area","p",b)[0];c=q.getAncestorByTagName(c,"td");var d=q.getXY(c)}else{var c=q.getElementsByClassName("item-SKU-price-area","p",b)[0];c=q.getAncestorByTagName(c,"td");var d=q.getXY(c)}{var e=parent.D.getClientHeight();parent.document.body.clientHeight}if(scrollHeight=YAHOO.env.ua.webkit?parent.document.body.scrollTop:parent.document.documentElement.scrollTop,d[1]+a.clientHeight>scrollHeight+e){var f=scrollHeight+a.clientHeight;if(f=f<d[1]-150?f:d[1]-150,YAHOO.env.ua.webkit)var g=setInterval(function(){if(parent.document.body.scrollTop<=f+5&&parent.document.body.scrollTop>=f-5)return void clearInterval(g);var a=parseInt((parent.document.body.scrollTop-f)/2);parent.document.body.scrollTop=parent.document.body.scrollTop-a},200);else var g=setInterval(function(){if(parent.document.documentElement.scrollTop<=f+5&&parent.document.documentElement.scrollTop>=f-5)return void clearInterval(g);var a=parseInt((parent.document.documentElement.scrollTop-f)/3);parent.document.documentElement.scrollTop=parent.document.documentElement.scrollTop-a},200)}if(d[1]<scrollHeight+70){var f=scrollHeight-70;if(YAHOO.env.ua.webkit)var g=setInterval(function(){if(parent.document.body.scrollTop<=f+5&&parent.document.body.scrollTop>=f-5)return void clearInterval(g);var a=parseInt((parent.document.body.scrollTop-f)/2);parent.document.body.scrollTop=parent.document.body.scrollTop-a},200);else var g=setInterval(function(){if(parent.document.documentElement.scrollTop<=f+5&&parent.document.documentElement.scrollTop>=f-5)return void clearInterval(g);var a=parseInt((parent.document.documentElement.scrollTop-f)/3);parent.document.documentElement.scrollTop=parent.document.documentElement.scrollTop-a},200)}},$=function(a){var b=a,c=q.getPreviousSibling(a),d=new YAHOO.util.Anim(b,{opacity:{to:0}},p.env.ua.ie?.1:.5,YAHOO.util.Easing.easeOut);d.onComplete.subscribe(function(){b.parentNode.removeChild(b)}),d.animate();var e=new YAHOO.util.Anim(c,{opacity:{to:0}},p.env.ua.ie?.1:.5,YAHOO.util.Easing.easeOut);e.onComplete.subscribe(function(){c.parentNode.removeChild(c)}),e.animate()},_=function(){var a=0;return KISSY.all(".SKU-total").each(function(b){a+=parseInt(b.text(),10)||0}),a||0},ab=function(){var a=this,b=a.value,c=0;a.value=a.value.replace(/^0+/g,"");var d=document.forms["edit-SKU-form"],e=q.getElementsByClassName("SKU-total-num","strong",d)[0],f="add"===o(location.href,"type"),g=parseInt(e.innerHTML,0),h=q.getElementsByClassName("more-SKU-num","span",d)[0];h&&(c=parseInt(h.innerHTML,0)),f&&(c+=_());for(var i,j=q.getElementsBy(function(a){return"text"===a.type},"input",d),k=0;k<j.length;k++)i=j[k].value,parseInt(i,0)||(i=0),c+=parseInt(i,0);return c>9e8?(a.value=b-(c-g),alert("\u51fa\u9519\u5566\uff01\u603b\u5e93\u5b58\u8d85\u8fc7900000000\uff0c\u8bf7\u91cd\u65b0\u586b\u5199\uff01"),!1):(e.innerHTML=c,!0)};s.onDOMReady(function(){function a(){J.parentNode&&J.parentNode.removeChild(J)}function b(){var b=q.get("closePrompt");s.on(b,"click",function(b){s.preventDefault(b),a(),simpleStorage.setItem("hideToolPrompt"+L,"true")}),q.setStyle(J,"display","block"),simpleStorage.setItem("recommendNumber"+L,N)}if(q.get("J_goodsOnSale")||q.get("J_goodsInSock")){var c=document.forms.open,d=q.getElementsByClassName("search-price","input",c),g=q.getElementsByClassName("search-num","input",c);
s.on(d,"keyup",function(a){var b=s.getTarget(a);v.call(b)}),s.on(d,"keypress",function(a){if(13==a.keyCode){var b=s.getTarget(a);v.call(b)}}),s.on(g,"keyup",function(a){var b=s.getTarget(a);w(b);var c=b.value;c.length>9&&(b.value=c.substring(0,9))}),s.on(g,"keypress",function(a){if(13==a.keyCode){var b=s.getTarget(a);w(b);var c=b.value;c.length>9&&(b.value=c.substring(0,9))}}),s.on(c,"submit",function(){v.call(d[0]),v.call(d[1]),w(g[0]),g[0].value.length>9&&(g[0].value=g[0].value.substring(0,9)),w(g[1]),g[1].value.length>9&&(g[1].value=g[1].value.substring(0,9))});var h=q.get("J_operate-succeed");if(h){{q.getAncestorByTagName(h,"div")}setTimeout(function(){var a=new YAHOO.util.Anim(h,{opacity:{to:0}},p.env.ua.ie?.1:.5,YAHOO.util.Easing.easeOut);a.onComplete.subscribe(function(){h.parentNode.removeChild(h)}),a.animate()},1500)}{var i=q.getElementsByClassName("item-title-area","div","J_DataTable");q.getElementsByClassName("item-cate","div","J_DataTable")}s.on(i,"mouseover",function(){q.addClass(this,"high-light")}),s.on(i,"mouseout",function(){q.removeClass(this,"high-light")}),s.on(i,"click",F);for(var j=0;j<i.length;j++){var n=i[j].getElementsByTagName("a");s.on(n[0],"click",function(a){s.stopPropagation(a)}),s.on(n[1],"click",function(a){s.preventDefault(a)})}var r=q.getElementsByClassName("item-num-area","p","J_DataTable");s.on(r,"click",K),s.on(r,"mouseover",function(){q.addClass(this,"high-light")}),s.on(r,"mouseout",function(){q.removeClass(this,"high-light")});var t=q.getElementsByClassName("item-SKU-num-area","p","J_DataTable");s.on(t,"click",P),s.on(t,"mouseover",function(){q.addClass(this,"high-light")}),s.on(t,"mouseout",function(){q.removeClass(this,"high-light")});var u=q.getElementsByClassName("item-price-area","p","J_DataTable");s.on(u,"click",M),s.on(u,"mouseover",function(){q.addClass(this,"high-light")}),s.on(u,"mouseout",function(){q.removeClass(this,"high-light")});for(var j=0;j<u.length;j++){var x=u[j].getElementsByTagName("a")[0];s.on(x,"click",function(a){s.stopPropagation(a)})}var y=q.getElementsByClassName("item-SKU-price-area","p","J_DataTable");s.on(y,"click",P),s.on(y,"mouseover",function(){q.addClass(this,"high-light")}),s.on(y,"mouseout",function(){q.removeClass(this,"high-light")});for(var j=0;j<y.length;j++){var x=y[j].getElementsByTagName("a")[0];s.on(x,"click",function(a){s.stopPropagation(a)})}var z=q.getElementsByClassName("icon-trigger","span","J_DataTable");s.on(z,"mouseover",function(){var a=this,b=q.getXY(a),c=(q.getAncestorByTagName(a,"div"),q.getPreviousSibling(a));R.call(this,c,b),s.removeListener(this,"mouseover",arguments.callee),s.on(this,"mouseover",function(){R.call(this,c)}),s.on(this,"mouseout",function(){S.call(this,c)}),s.on(c,"mouseover",function(){R.call(a,this)}),s.on(c,"mouseout",function(b){var c=s.getRelatedTarget(b);this==c||q.isAncestor(this,c)||S.call(a,this)})}),W(),s.on(window,"scroll",function(){s.removeListener(window,"scroll",arguments.callee),V()})}if(q.get("J_goodsInSock")){var A=q.getElementsByClassName("text-amount","input",J_DataTable);s.on(A,"keypress",function(a){var b=s.getTarget(a);w(b);var c=b.value;parseInt(c)>1e8&&(b.value=1e8)})}if(q.get("edit-SKU-form")){Z();{var B=document.forms["edit-SKU-form"];o(location.href,"type")}s.on("J_edit-SKU-more","click",function(a){s.preventDefault(a),Q(parent.document);var b=q.getElementsByClassName("current","tr",parent.document)[0];O(b)});var C=q.getElementsByClassName("new-SKU-num","input",B);s.on(C,"keyup",function(a){var b=s.getTarget(a);w(b);var c=b.value;parseInt(c)>1e8&&(b.value=1e8)}),s.on(C,"keypress",function(a){var b=s.getTarget(a);w(b);var c=b.value;if(parseInt(c)>1e8&&(b.value=1e8),13==a.keyCode){if(!ab.call(b))return void s.preventDefault(a);l(a)}}),s.on(C,"blur",ab),s.on(C,"change",function(){this.style.color="#f60"}),q.get("edit-num-SKU-iframe")&&s.on(B,"submit",l);var D=q.getElementsByClassName("new-fix-price","input",B)[0];s.on(D,"keyup",function(a){var b=s.getTarget(a);v.call(b)}),s.on(D,"keypress",function(a){var b=s.getTarget(a);v.call(b),13==a.keyCode&&m(a)}),s.on(D,"change",function(){this.style.color="#f60"});var E=q.getElementsByClassName("new-SKU-price","input",B);s.on(E,"keyup",function(a){var b=s.getTarget(a);v.call(b)}),s.on(E,"keypress",function(a){var b=s.getTarget(a);v.call(b),13==a.keyCode&&e.call(this,a,m)});s.on(E,"change",function(){this.style.color="#f60"}),q.get("edit-price-SKU-iframe")&&s.on(B,"submit",function(a){return 13==a.keyCode?!1:void e.call(this,a,m)});var H=KISSY,I=H.query(".J_RangeInput");KISSY.each(I,function(a){k(a,{points:["tr","br"],validEvent:""})})}var J=q.get("J_RecommendPrompt");if(simpleStorage.init(),J){var L=top.UID||"",N=q.get("J_PromptTotNumber").innerHTML,T=q.get("J_PromptCurNumber").innerHTML;window.RECOMMEND_COUNT=T==N?void 0:N;var U=simpleStorage.getItem("recommendNumber"+L),X=simpleStorage.getItem("hideToolPrompt"+L);U==N?"false"==X||null===X?b():a():(b(),simpleStorage.setItem("hideToolPrompt"+L,!1))}var Y=q.getElementsByClassName("copy-link","a","J_DataTable");window.clipboardData?s.on(Y,"click",G):f(Y)})}(),function(){var a=window.KISSY;if(a){{var b=a.DOM;a.Event}a.ready(function(){var c=b.get("#punish-alert"),d=-1!==location.host.indexOf("daily.taobao.net")?"daily.taobao.net":"taobao.com",e='<a target="_blank" href="{url}" hidefocus="true">{msg}</a>',f={down:"{down}\u4e2a\u5df2\u7ecf\u5904\u7f5a\u7684\u5b9d\u8d1d",warn:"{warn}\u4e2a\u5373\u5c06\u5904\u7f5a\u7684\u5b9d\u8d1d",advise:"{advise}\u4e2a\u5efa\u8bae\u4f18\u5316\u7684\u5b9d\u8d1d"},g=b.attr(c,"data-url")||location.protocol+"//notice.daily.taobao.net/json/counter.htm";c&&a.ajax({url:(/^https?:\/\//i.test(g)?"":location.protocol)+g,dataType:"jsonp",tyep:"GET",success:function(g){var h=[];if(a.each(g,function(b,c){var d=1*b;!isNaN(d)&&d>0&&h.push(a.substitute(f[c],g))}),h.length>0){var i=b.create(a.substitute(e,{url:"//notice."+d+"/notice_dispatch.htm",msg:h.join("\uff0c")}));b.append(i,c)}},error:function(){}})})}}(),function(){var a=KISSY,b=a.all;KISSY.ready(function(){var c,d=function(){var a=[],b=document.getElementsByName("selectedIds");if(null==b||0>=b.length)return"";for(var c=0;c<b.length;c++)b[c].checked&&a.push(b[c].value);return a},e=function(b){a.use("overlay",function(a,d){var e=['<iframe class="page-content" frameborder="no" border="0" marginwidth="0" marginheight="0" scrolling="no" src="'+b+'"></iframe>'].join("");c=new d({prefixCls:"tbs-",elCls:"tbs-dialog-popup weihaibao",content:e,mask:!0,closable:!1,zIndex:11e4,align:{points:["cc","cc"]}}),c.show()})},f=b("#weiHaiBao");f.length&&(f.on("click",function(){var b=d(),c=b.length,f=location.host.indexOf("daily.taobao.net")>-1,g=f?"mf.daily.taobao.net":"mf.taobao.com",h="//"+g+"/itemService?bizcode=itemcenter&itemid="+encodeURIComponent(a.JSON.stringify(b));return 0===c?alert("\u8bf7\u5148\u9009\u62e9\u8981\u521b\u5efa\u5fae\u6d77\u62a5\u7684\u5b9d\u8d1d"):c>10?alert("\u76ee\u524d\u6700\u591a\u652f\u630110\u4e2a\u5b9d\u8d1d\u521b\u5efa\u5fae\u6d77\u62a5\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9"):e(h),!1}),b(window).on("message",function(a){"whb-close"===a.data&&c.hide()}))})}();